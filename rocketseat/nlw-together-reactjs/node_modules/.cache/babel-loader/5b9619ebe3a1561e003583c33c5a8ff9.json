{"ast":null,"code":"var _jsxFileName = \"/home/alexferro/Documents/GitHub/estudos/rocketseat/nlw-together-reactjs/letmeask/src/pages/Home.tsx\",\n    _s = $RefreshSig$();\n\nimport { useHistory } from 'react-router-dom';\nimport { useState } from 'react';\nimport { useAuth } from '../hooks/useAuth';\nimport { database } from '../services/firebase';\nimport illustrationImg from '../assets/images/illustration.svg';\nimport logoImg from '../assets/images/logo.svg';\nimport googleIconImg from '../assets/images/google-icon.svg';\nimport { Button } from '../components/Button';\nimport '../styles/auth.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Home() {\n  _s();\n\n  const history = useHistory();\n  const {\n    user,\n    signInWithGoogle\n  } = useAuth();\n  const [roomCode, setRoomCode] = useState('');\n\n  async function handlerCreateRoom() {\n    if (!user) {\n      await signInWithGoogle();\n    }\n\n    history.push('/rooms/new');\n  }\n\n  async function handleJoinRoom(event) {\n    event.preventDefault();\n\n    if (roomCode.trim() === '') {\n      return;\n    }\n\n    const roomRef = await database.ref(`rooms/${roomCode}`).get();\n\n    if (!roomRef.exists()) {\n      alert('Room does not exists');\n      return;\n    }\n\n    if (roomRef.val().endedAt) {\n      alert('Room already closed');\n      return;\n    }\n\n    history.push(`/rooms/${roomCode}`);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"page-auth\",\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: illustrationImg,\n        alt: \"Ilustra\\xE7\\xE3o que representa perguntas e respostas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Crie salas de Q&A ao-vivo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Tire as d\\xFAvidas da sua audi\\xEAncia em tempo real\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: logoImg,\n          alt: \"Letmeask\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handlerCreateRoom,\n          className: \"create-room\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: googleIconImg,\n            alt: \"Logo do Google\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), \"Crie sua sala com o Google\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"separator\",\n          children: \"ou entre em uma sala\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleJoinRoom,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Digite o c\\xF3digo da sala\",\n            onChange: event => setRoomCode(event.target.value),\n            value: roomCode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            children: \"Entrar na Sala\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"VfUxj7fJe4GsyQPIrLImRQ6RK3I=\", false, function () {\n  return [useHistory, useAuth];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useHistory","useState","useAuth","database","illustrationImg","logoImg","googleIconImg","Button","Home","history","user","signInWithGoogle","roomCode","setRoomCode","handlerCreateRoom","push","handleJoinRoom","event","preventDefault","trim","roomRef","ref","get","exists","alert","val","endedAt","target","value"],"sources":["/home/alexferro/Documents/GitHub/estudos/rocketseat/nlw-together-reactjs/letmeask/src/pages/Home.tsx"],"sourcesContent":["import { useHistory } from 'react-router-dom'\nimport { FormEvent, useState } from 'react'\n\nimport { useAuth } from '../hooks/useAuth'\nimport { database } from '../services/firebase'\n\nimport illustrationImg from '../assets/images/illustration.svg'\nimport logoImg from '../assets/images/logo.svg'\nimport googleIconImg from '../assets/images/google-icon.svg'\n\nimport { Button } from '../components/Button'\nimport '../styles/auth.scss'\n\nexport function Home(){\n  const history = useHistory();\n  const { user, signInWithGoogle } = useAuth()\n  const [roomCode, setRoomCode] = useState('')\n\n  async function handlerCreateRoom(){\n\n    if (!user){\n      await signInWithGoogle()\n    }\n\n    history.push('/rooms/new');\n  }\n\n  async function handleJoinRoom(event: FormEvent){\n    event.preventDefault();\n\n    if(roomCode.trim() === ''){\n      return;\n    }\n\n    const roomRef = await database.ref(`rooms/${roomCode}`).get();\n\n    if (!roomRef.exists()){\n      alert('Room does not exists');\n      return;\n    }\n\n    if (roomRef.val().endedAt){\n      alert('Room already closed')\n      return;\n    }\n\n    history.push(`/rooms/${roomCode}`);\n  }\n\n  return (\n    <div id='page-auth'>\n      <aside>\n        <img src={illustrationImg} alt=\"Ilustração que representa perguntas e respostas\"/>\n        <strong>Crie salas de Q&amp;A ao-vivo</strong>\n        <p>Tire as dúvidas da sua audiência em tempo real</p>\n      </aside>\n      <main>\n        <div className='main-content'>\n          <img src={logoImg} alt=\"Letmeask\" />\n          <button onClick={handlerCreateRoom} className='create-room'>\n            <img src={googleIconImg} alt=\"Logo do Google\" />\n            Crie sua sala com o Google\n          </button>\n          <div className='separator'>ou entre em uma sala</div>\n          <form onSubmit={handleJoinRoom}>\n            <input\n            type=\"text\"\n            placeholder='Digite o código da sala'\n            onChange={event => setRoomCode(event.target.value)}\n            value={roomCode}\n            />\n            <Button type=\"submit\">\n              Entrar na Sala\n            </Button>\n          </form>\n        </div>\n      </main>\n    </div>\n  )\n}"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,kBAA3B;AACA,SAAoBC,QAApB,QAAoC,OAApC;AAEA,SAASC,OAAT,QAAwB,kBAAxB;AACA,SAASC,QAAT,QAAyB,sBAAzB;AAEA,OAAOC,eAAP,MAA4B,mCAA5B;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AAEA,SAASC,MAAT,QAAuB,sBAAvB;AACA,OAAO,qBAAP;;AAEA,OAAO,SAASC,IAAT,GAAe;EAAA;;EACpB,MAAMC,OAAO,GAAGT,UAAU,EAA1B;EACA,MAAM;IAAEU,IAAF;IAAQC;EAAR,IAA6BT,OAAO,EAA1C;EACA,MAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;;EAEA,eAAea,iBAAf,GAAkC;IAEhC,IAAI,CAACJ,IAAL,EAAU;MACR,MAAMC,gBAAgB,EAAtB;IACD;;IAEDF,OAAO,CAACM,IAAR,CAAa,YAAb;EACD;;EAED,eAAeC,cAAf,CAA8BC,KAA9B,EAA+C;IAC7CA,KAAK,CAACC,cAAN;;IAEA,IAAGN,QAAQ,CAACO,IAAT,OAAoB,EAAvB,EAA0B;MACxB;IACD;;IAED,MAAMC,OAAO,GAAG,MAAMjB,QAAQ,CAACkB,GAAT,CAAc,SAAQT,QAAS,EAA/B,EAAkCU,GAAlC,EAAtB;;IAEA,IAAI,CAACF,OAAO,CAACG,MAAR,EAAL,EAAsB;MACpBC,KAAK,CAAC,sBAAD,CAAL;MACA;IACD;;IAED,IAAIJ,OAAO,CAACK,GAAR,GAAcC,OAAlB,EAA0B;MACxBF,KAAK,CAAC,qBAAD,CAAL;MACA;IACD;;IAEDf,OAAO,CAACM,IAAR,CAAc,UAASH,QAAS,EAAhC;EACD;;EAED,oBACE;IAAK,EAAE,EAAC,WAAR;IAAA,wBACE;MAAA,wBACE;QAAK,GAAG,EAAER,eAAV;QAA2B,GAAG,EAAC;MAA/B;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF,eAGE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAME;MAAA,uBACE;QAAK,SAAS,EAAC,cAAf;QAAA,wBACE;UAAK,GAAG,EAAEC,OAAV;UAAmB,GAAG,EAAC;QAAvB;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAQ,OAAO,EAAES,iBAAjB;UAAoC,SAAS,EAAC,aAA9C;UAAA,wBACE;YAAK,GAAG,EAAER,aAAV;YAAyB,GAAG,EAAC;UAA7B;YAAA;YAAA;YAAA;UAAA,QADF;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF,eAME;UAAK,SAAS,EAAC,WAAf;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QANF,eAOE;UAAM,QAAQ,EAAEU,cAAhB;UAAA,wBACE;YACA,IAAI,EAAC,MADL;YAEA,WAAW,EAAC,4BAFZ;YAGA,QAAQ,EAAEC,KAAK,IAAIJ,WAAW,CAACI,KAAK,CAACU,MAAN,CAAaC,KAAd,CAH9B;YAIA,KAAK,EAAEhB;UAJP;YAAA;YAAA;YAAA;UAAA,QADF,eAOE,QAAC,MAAD;YAAQ,IAAI,EAAC,QAAb;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAPF;QAAA;UAAA;UAAA;UAAA;QAAA,QAPF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QANF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA8BD;;GAlEeJ,I;UACER,U,EACmBE,O;;;KAFrBM,I"},"metadata":{},"sourceType":"module"}